const events = require('events');
var eventEmitter = new events.EventEmitter();

//All these variables a the scopped to this logger.js file

var url = 'http://mylogger.io/log';

function log(message){

    eventEmitter.on('io.logging', (eventArgs) => {
        console.log('Logging to logging.io', eventArgs);
      });

    eventEmitter.emit('io.logging', {
        "data": message,
        "timestamp": Date.now()        
    });

}

//We're exporting the log function and url so it can be used in other apps
// module.exports.log = log;

//Since we have only one method, we can just export that only
module.exports = log;

